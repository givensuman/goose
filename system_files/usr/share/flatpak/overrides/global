[Context]
sockets=inherit-wayland-socket;cups;pulseaudio;fallback-x11;wayland;x11
devices=all;usb;kvm;input
features=bluetooth;devel
filesystems=host-etc;xdg-config/fontconfig:ro;xdg-config/gtk-3.0:ro;xdg-config/gtk-4.0:ro

[Environment]
# Force proper scaling - prevent apps from applying their own scaling
GDK_SCALE=1
GDK_DPI_SCALE=1
QT_AUTO_SCREEN_SCALE_FACTOR=1
QT_SCALE_FACTOR=1
QT_FONT_DPI=96

# Wayland backend preference for better integration
GDK_BACKEND=wayland
QT_QPA_PLATFORM=wayland
ELECTRON_OZONE_PLATFORM_HINT=auto

# X11 fallback optimization
XWAYLAND_NO_GLAMOR=1

# Additional fixes for various toolkits
MOZ_ENABLE_WAYLAND=1
SDL_VIDEODRIVER=wayland
CLUTTER_BACKEND=wayland
